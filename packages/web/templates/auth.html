<html>
  <head>
    <script
      src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback"
      defer
    ></script>
  </head>

  <body>
    <div
      id="cf-turnstile"
    ></div>
  </body>

  <script>
    const requestId = "{{ requestId }}";
    window.onloadTurnstileCallback = function () {
      turnstile.render("#cf-turnstile", {
        sitekey: "0x4AAAAAAAOqVuAncPkP3cr0",
        callback: function (token) {
          fetch(`{{ domain }}/auth/${requestId}`, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              response: token,
            }),
          }).then((res) => {
          });
        },
      });
    };
  </script>
</html>
